**QUẢN LÝ Ổ ĐĨA**

**A. Phân vùng ổ đĩa**

*1. Partition*
- Partition (phân vùng) của một đĩa là một đơn vị lưu trữ logic được chia từ một ổ đĩa vật lý. Một đĩa có thể được chia thành nhiều partition, mỗi partition sẽ được sử dụng cho một mục đích khác nhau (ví dụ: cài đặt hệ điều hành, lưu trữ dữ liệu,....). Mỗi partition có thể có một hệ thống tập tin (file system) riêng để quản lý dữ liệu trong đó.
- Mục đích: giúp hệ thống quản lý dữ liệu hiệu quả hơn, tạo không gian làm việc độc lập cho từng ứng dụng.

*2. Thao tác quản lý phân vùng bằng lệnh fdisk*

a. Khởi động fdisk: sudo fdisk <tên ổ đĩa cần thao tác>

b. Hiển thị bảng phân vùng: 
- Sau khi vào giao diện fdisk, sử dụng lệnh p để hiển thị thông tin các partition có trên ổ đĩa này.

c. Tạo phân vùng mới
- Nhập n để vào giao diện tạo phân vùng
- Sau khi vào giao diện:
  - Chọn loại phân vùng (primary cho phân vùng bình thường, extend nếu muốn tạo nhiều phân vùng con trong phân vùng đó)
  - Chọn số thứ tự phân vùng
  - Chọn kích thước phân vùng: Chọn sector đầu tiên và cuối cùng của phân vùng (mỗi sector có kích thước 512 bytes) 
- Lưu thay đổi: w để lưu thay đổi, q để không lưu thay đổi
- Định dạng phân vùng sau khi tạo: (format thành một file system: ext4, xfs,...): sudo mkfs.ext4 <tên phân vùng>

d. Xóa phân vùng: Nhấn d, sau đó chỉ định phân vùng muốn xóa

*3. Phân biệt partition với file system*
- Partition: Là phần không gian vật lí được chia ra từ một ổ đĩa hoặc 1 thiết bị lưu trữ
- File system: Là phương thức lưu trữ và quản lí dữ liệu trên ổ đĩa hay phân vùng
- *Mối quan hệ giữa partition và file system:* Sau khi tạo phân vùng, cần định dạng nó với 1 file system để có thể lưu trữ và quản lý dữ liệu

**B. RAID và lệnh mdadm**

*1. Cấu trúc và nguyên lý hoạt động của các cấp độ RAID*

*RAID là công nghệ cho phép kết hợp nhiều ổ đĩa thành một hệ thống lưu trữ duy nhất với mục đích cải thiện hiệu suất đọc/ghi hoặc đảm bảo an toàn dữ liệu tùy theo từng cấp độ RAID sử dụng*

a. RAID 0
- Số ổ đĩa tối thiểu: 2
- Cách hoạt động: Dữ liệu được chia thành các khối và ghi đều lên các ổ đĩa trong mảng. 
- Mình họa: Có 2 ổ đĩa A và B, dữ liệu chia thành 4 phần. Mỗi phần sẽ ghi xen kẽ lên ổ A và B
- Ưu nhược điểm:
  - Ưu điểm: Hiệu suất cao do dữ liệu được chia thành các phần nhỏ được đọc/ghi song song trên tất cả các ổ đĩa
  - Nhược điểm: Không đảm bảo độ an toàn dữ liệu. Nếu có 1 ổ đĩa gặp sự cố thì tất cả dữ liệu trên mảng RAID sẽ mất

b. RAID 1
- Số ổ đĩa tối thiểu: 2
- Cách hoạt động: Dữ liệu từ ổ đĩa này được sao chép y hệt qua ổ đĩa khác.
- Mình họa: Có 2 ổ đĩa A và B, ổ A chứa dữ liệu của nó + bản sao dữ liệu ổ B và ngược lại. Nếu ổ A bị hỏng, có thể phục hồi dữ liệu từ ổ B.
- Ưu nhược điểm:
  - Ưu điểm: nếu một ổ đĩa bị hỏng, dữ liệu vẫn còn nguyên vẹn trên ổ đĩa còn lại để sẵn sàng phục hồi
  - Nhược điểm:
    - Tốn dung lượng do mỗi ổ đĩa lưu trữ một bản sao của dữ liệu
    - Không cải thiện hiệu suất ghi

c. RAID 5
- Số ổ đĩa tối thiểu: 3
- Cách hoạt động: Dữ liệu được phân chia và phân bổ đều trên các ổ đĩa giống như RAID 0, nhưng có thêm một ổ đĩa dùng để lưu trữ parity (dữ liệu kiểm tra). Parity được tính toán khi ghi dữ liệu và giúp tái tạo dữ liệu khi một ổ đĩa bị hỏng.
- Minh họa: Có 3 ổ đĩa A,B,C. 
